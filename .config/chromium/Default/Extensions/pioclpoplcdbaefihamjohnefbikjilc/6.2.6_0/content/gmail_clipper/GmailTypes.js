function GmailThread(){var d=[],c={},e={},g,f;this.addMessage=function(b,a){isNaN(c[a])?c[a]=d.push(b)-1:d[c[a]]=b};this.addParticipants=function(b){for(var a=0;a<b.length;a++){var c=new GmailParticipant(b[a][0],b[a][1]);e[c.email]||(e[c.email]=c)}};this.removeMessages=function(b){for(var a=b.length-1;0<=a;a--)d.splice(c[b[a]],1),delete c[b[a]]};this.setSubject=function(b){g=b};this.setUser=function(b,a){f=new GmailParticipant(b,a)};this.__defineGetter__("messages",function(){return d});this.__defineGetter__("participants",
function(){return e});this.__defineGetter__("subject",function(){return g});this.__defineGetter__("user",function(){return f});Object.preventExtensions(this)}Object.preventExtensions(GmailThread);
function GmailMessage(d){var c=[],e,g,f;this.addAttachments=function(b){for(var a=0;a<b.length;a++)c.push(new GmailAttachment(b[a][2],b[a][1],b[a][3],d+b[a][9]))};this.setAuthorInfo=function(b,a){e=new GmailParticipant(b,a)};this.setBody=function(b){var a=document.createElement("div");a.innerHTML=b;b=a.querySelectorAll(".HOEnZb, .adm");for(var c=0;c<b.length;c++)b[c].parentNode&&b[c].parentNode.removeChild(b[c]);g=a.innerHTML};this.setDate=function(b){f=b};this.__defineGetter__("attachments",function(){return c});
this.__defineGetter__("author",function(){return e});this.__defineGetter__("body",function(){return g});this.__defineGetter__("date",function(){return f});Object.preventExtensions(this)}Object.preventExtensions(GmailMessage);function GmailParticipant(d,c){d||(d=c);this.__defineGetter__("email",function(){return c});this.__defineGetter__("name",function(){return d});Object.preventExtensions(this)}Object.preventExtensions(GmailParticipant);
function GmailAttachment(d,c,e,g){for(var f,b=["bytes","kB","MB","GB","TB"],a=0;a<b.length;a++)if(1>e/Math.pow(1024,a)){a=Math.max(0,a-1);f=parseFloat((e/Math.pow(1024,a)).toFixed(1))+" "+b[a];break}this.__defineGetter__("mime",function(){return d});this.__defineGetter__("name",function(){return c});this.__defineGetter__("size",function(){return f});this.__defineGetter__("url",function(){return g});Object.preventExtensions(this)}Object.preventExtensions(GmailAttachment);
